{
  "name": "hapi-swagger",
  "description": "A swagger documentation UI generator plugin for hapi",
  "version": "0.1.11",
  "author": {
    "name": "Glenn Jones"
  },
  "repository": {
    "type": "git",
    "url": "http://github.com/glennjones/hapi-swagger.git"
  },
  "main": "index",
  "keywords": [
    "docs",
    "swagger",
    "hapi"
  ],
  "engines": {
    "node": "0.10.x"
  },
  "dependencies": {
    "handlebars": "1.3.x",
    "boom": "2.4.x",
    "hoek": "2.0.x",
    "joi": "3.1.x"
  },
  "devDependencies": {
    "mocha": "1.17.x",
    "chai": "1.9.x"
  },
  "scripts": {
    "test": "make test"
  },
  "peerDependencies": {
    "hapi": ">= 2.x < 5.x"
  },
  "readme": "# hapi-swagger\n\n\nThis is a [Swagger UI](https://github.com/wordnik/swagger-ui) plug-in for [HAPI](http://spumko.github.io/). When installed it will self document HTTP API interface in a project.\n\n\n## Install\n\nYou can add the module to your HAPI using npm:\n\n    $ npm install hapi-swagger --save,\n\n    \n## Adding the plug-in into your project\n\nIn the .js file where you create the HAPI `server` object add the following code after you have created the `server` object:\n\n    var pack = require('../package'),\n        options = {\n            basePath: 'http://localhost:8000',\n            apiVersion: pack.version\n        };\n\n    server.pack.require({'hapi-swagger': options}, function (err) {\n        if (!err && err !== null) {\n            server.log(['error'], 'Plugin \"hapi-swagger\" load error: ' + err) \n        }else{\n             server.log(['start'], 'swagger interface loaded')\n        }\n    });\n\n\n## Tagging your API routes\nAs a project may be a mixture of web pages and API endpoints you need to tag the routes you wish Swagger to document. Simply add the `tags: ['api']` property to the route object for any endpoint you want documenting.\n\n\n    {\n        method: 'GET',\n        path: '/todo/{id}/',\n        config: {\n            handler: handlers.mapUsername,\n            description: 'Get todo',\n            notes: 'Returns a todo item by the id passed in the path',\n            tags: ['api'],        \n            validate: { \n                path: {\n                    username: joi.number()\n                            .required()\n                            .description('the id for the todo item'),\n                }\n            }\n        },\n    }\n    \n## Adding interface into a page\nThe plugin adds all the resources needed to build the interface into your project. All you need to do is add some javascript into the header of a web page and add two elements into the HTML where you wish it to render.\n\n\n### Adding the javascript\n\nThe doc directory and all the files in the URLs below are added by the plugin\n\n\n    <link href='https://fonts.googleapis.com/css?family=Droid+Sans:400,700' rel='stylesheet' type='text/css'/>\n    <link href='/docs/swaggerui/css/highlight.default.css' media='screen' rel='stylesheet' type='text/css'/>\n    <link href='/docs/swaggerui/css/screen.css' media='screen' rel='stylesheet' type='text/css'/>\n    <script src=\"/docs/swaggerui/lib/shred.bundle.js\" type=\"text/javascript\"></script>\n    <script src='/docs/swaggerui/lib/jquery-1.8.0.min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/jquery.slideto.min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/jquery.wiggle.min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/jquery.ba-bbq.min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/handlebars-1.0.0.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/underscore-min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/backbone-min.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/swagger.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/swagger-ui.js' type='text/javascript'></script>\n    <script src='/docs/swaggerui/lib/highlight.7.3.pack.js' type='text/javascript'></script>\n    <script type=\"text/javascript\">\n      $(function () {\n        window.swaggerUi = new SwaggerUi({\n          url: window.location.protocol + '//' + window.location.host + '/docs',\n          dom_id: \"swagger-ui-container\",\n          supportedSubmitMethods: ['get', 'post', 'put', 'delete'],\n          onComplete: function(swaggerApi, swaggerUi){\n            log(\"Loaded SwaggerUI\")\n            $('pre code').each(function(i, e) {hljs.highlightBlock(e)});\n          },\n          onFailure: function(data) {\n            log(\"Unable to Load SwaggerUI\");\n          },\n          docExpansion: \"list\"\n        });\n        window.swaggerUi.load();\n      });\n    </script>\n\n  \n### Adding the HTML elements\n\nPlace the HTML code below into the body fo web page where you wish the interface to render\n\n<pre>\n&lt;section id=&quot;swagger&quot;&gt;\n    &lt;h1 class=&quot;entry-title api-title&quot;&gt;API&lt;/h1&gt;\n    &lt;div id=&quot;message-bar&quot; class=&quot;swagger-ui-wrap&quot;&gt;&lt;/div&gt;\n    &lt;div id=&quot;swagger-ui-container&quot; class=&quot;swagger-ui-wrap&quot;&gt;&lt;/div&gt;\n&lt;/section&gt;\n</pre>\n\n\n### Options\nThere are number of options for advance use case. In most case you should only have to provide the apiVersion and basePath.\n\n* apiVersion: the version of your API \n* basePath: the base URL of the API i.e. 'http://localhost:3000'\n* endpoint: the documentation endpoint path - the default is: '/docs'\n* pathPrefixSize: selects what segment of the URL path is used to group endpoints - the default is: 1\n* payloadType: weather accepts json or form parameters for payload - the default is: 'json'\n* produces: an array of the output types from your API - the default is: ['application/json']\n\n\n\n### Response Object\nHAPI allow you to define a response object for an API endpoint. The response object is used by HAPI to both validation and description the output of an API. It uses the same JOI validation objects to describe the input parameters. The plugin turns these object into visual description and examples in the Swagger UI.\n\nAn very simple example of the use of the response object:\n\n    var responseModel = hapi.types.object({\n        equals: joi.number(),\n    }).options({\n      className: 'Result'\n    });\n\n    within you route object ...\n    config: {\n        handler: handlers.add,\n        description: 'Add',\n        tags: ['api'],\n        notes: ['Adds together two numbers and return the result'],\n        validate: { \n            path: {\n                a: joi.number()\n                    .required()\n                    .description('the first number'),\n\n                b: joi.number()\n                    .required()\n                    .description('the second number')\n            }\n        },\n        response: {schema: responseModel}\n    }\n\n\nA working demo of more complex uses of response object can be found in the [be-more-hapi](https://github.com/glennjones/be-more-hapi) project.\n\n\n\n### Error Status Codes\nYou can add HTTP error status codes to each of the endpoints. As HAPI routes don not directly have a property for error status codes so you need to add them to the notes. The status codes need to be added to the end of the notes array starting with array item with the value \"Error status codes\". Each error code should be added as string with code first follow by its description:\n\n    config: {\n        handler: handlers.add,\n        description: 'Add',\n        tags: ['api'],\n        jsonp: 'callback',\n        notes: [\n            'Adds together two numbers and return the result',\n            'Error status codes',\n            '400, bad request'\n        ],\n        validate: { \n            path: {\n                a: joi.number()\n                    .required()\n                    .description('the first number'),\n\n                b: joi.number()\n                    .required()\n                    .description('the second number')\n            }\n        }\n    }\n\n\n### Mocha test\nThe project has a small number integration and unit tests. To run the test within the project type the following command.\n\n    $ mocha --reporter list\n\nIf you are considering sending a pull request please add tests for the functionality you add or change.\n\n\n### Thanks\nI would like to thank [Brandwatch](http://www.brandwatch.com/) who allow me to open this code up as part of the work on this plugin was done during a contract with them.\n\n### Contributors\n* jlewark (https://github.com/jlewark)\n* ivorothschild (https://github.com/ivorothschild)\n* Joshua McGinnis (https://github.com/joshua-mcginnis)\n* David Waterston (https://github.com/davidwaterston)\n* Jozz (https://github.com/jozzhart)\n* John Oliva (https://github.com/joliva)\n* thiagogalesi4e (https://github.com/thiagogalesi4e)\n* HughePaul (https://github.com/HughePaul)\n\n\n### This is a work in progress\nIf you find any issue please file here on github and I will try and fix them.\n",
  "readmeFilename": "README.md",
  "bugs": {
    "url": "https://github.com/glennjones/hapi-swagger/issues"
  },
  "homepage": "https://github.com/glennjones/hapi-swagger",
  "_id": "hapi-swagger@0.1.11",
  "dist": {
    "shasum": "caee15dc6b2bf0de24dd66d32386e4a7a339100d"
  },
  "_resolved": "git://github.com/glennjones/hapi-swagger#de347f740b2cbbb2120b9d0289eef8d541f9f856",
  "_from": "hapi-swagger@git://github.com/glennjones/hapi-swagger"
}
